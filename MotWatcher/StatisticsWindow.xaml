<Window x:Class="MotWatcher.StatisticsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MotWatcher Statistics" Height="550" Width="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Statistics Dashboard" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>

        <!-- Statistics Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Overall Statistics -->
                <GroupBox Header="Overall Statistics" Margin="0,0,0,15">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Total Files Processed:" Margin="0,5,0,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TotalFilesText" Text="0" FontWeight="Bold" HorizontalAlignment="Right" Margin="0,5,0,5"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Total Data Processed:" Margin="0,5,0,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" x:Name="TotalBytesText" Text="0 B" FontWeight="Bold" HorizontalAlignment="Right" Margin="0,5,0,5"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="First Run Date:" Margin="0,5,0,5"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" x:Name="FirstRunText" Text="-" HorizontalAlignment="Right" Margin="0,5,0,5"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Last Processed:" Margin="0,5,0,5"/>
                        <TextBlock Grid.Row="3" Grid.Column="1" x:Name="LastProcessedText" Text="-" HorizontalAlignment="Right" Margin="0,5,0,5"/>
                    </Grid>
                </GroupBox>

                <!-- Files by Zone ID -->
                <GroupBox Header="Files by Security Zone" Margin="0,0,0,15">
                    <ListView x:Name="ZoneStatsListView" Height="100" Margin="10">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Zone" DisplayMemberBinding="{Binding Zone}" Width="250"/>
                                <GridViewColumn Header="Count" DisplayMemberBinding="{Binding Count}" Width="100"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </GroupBox>

                <!-- Files by Extension -->
                <GroupBox Header="Top File Types" Margin="0,0,0,15">
                    <ListView x:Name="ExtensionStatsListView" Height="150" Margin="10">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Extension" DisplayMemberBinding="{Binding Extension}" Width="150"/>
                                <GridViewColumn Header="Count" DisplayMemberBinding="{Binding Count}" Width="100"/>
                                <GridViewColumn Header="Percentage" DisplayMemberBinding="{Binding Percentage}" Width="100"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </GroupBox>

                <!-- Recent Activity (Last 7 Days) -->
                <GroupBox Header="Recent Activity (Last 7 Days)" Margin="0,0,0,0">
                    <ListView x:Name="DailyStatsListView" Height="120" Margin="10">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Date" DisplayMemberBinding="{Binding Date}" Width="150"/>
                                <GridViewColumn Header="Files" DisplayMemberBinding="{Binding Files}" Width="80"/>
                                <GridViewColumn Header="Data" DisplayMemberBinding="{Binding Data}" Width="120"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="ResetButton" Content="Reset Statistics" Width="130" Height="30" Margin="0,0,10,0" Click="Reset_Click"/>
            <Button x:Name="CloseButton" Content="Close" Width="80" Height="30" Click="Close_Click"/>
        </StackPanel>
    </Grid>
</Window>
